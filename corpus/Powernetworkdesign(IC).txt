in integrated circuits electrical power is distributed to the components of the chip over a network of conductors on the chip power network design includes the analysis and design of such networks as in all engineering this involves tradeoffs - the network must have adequate performance be sufficiently reliable but should not use more resources than required
the power distribution network distributes power and ground voltages from pad locations to all devices in a design shrinking device dimensions faster switching frequencies and increasing power consumption in deep sub-micrometer technologies cause large switching currents to flow in the power and ground networks which degrade performance and reliability a robust power distribution network is essential to ensure reliable operation of circuits on a chip power supply integrity verification is a critical concern in high-performance designs due to the resistance of the interconnects constituting the network there is a voltage drop across the network commonly referred to as the ir-drop the package supplies currents to the pads of the power grid either by means of package leads in wire-bond chips or through c4 bump arrays in flip chip technology although the resistance of package is quite small the inductance of package leads is significant which causes a voltage drop at the pad locations due to the time varying current drawn by the devices on die this voltage drop is referred to as the didt-drop therefore the voltage seen at the devices is the supply voltage minus the ir-drop and didt-drop
excessive voltage drops in the power grid reduce switching speeds and noise margins of circuits and inject noise which might lead to functional failures high average current densities lead to undesirable wearing out of metal wires due to electromigration em therefore the challenge in the design of a power distribution network is in achieving excellent voltage regulation at the consumption points notwithstanding the wide fluctuations in power demand across the chip and to build such a network using minimum area of the metal layers these issues are prominent in high performance chips such as microprocessors since large amounts of power have to be distributed through a hierarchy of many metal layers a robust power distribution network is vital in meeting performance guarantees and ensuring reliable operation
capacitance between power and ground distribution networks referred to as decoupling capacitors or decaps acts as local charge storage and is helpful in mitigating the voltage drop at supply points parasitic capacitance between metal wires of supply lines device capacitance of the non-switching devices and capacitance between n-well and substrate occur as implicit decoupling capacitance in a power distribution network unfortunately this implicit decoupling capacitance is sometimes not enough to constrain the voltage drop within safe bounds and designers often have to add intentional explicit decoupling capacitance structures on the die at strategic locations these explicitly added decoupling capacitances are not free and increase the area and leakage power consumption of the chip parasitic interconnect resistance decoupling capacitance and packageinterconnect inductance form a complex rlc circuit which has its own resonance frequency if the resonance frequency lies close to the operating frequency of the design large voltage drops can develop in the grid
the crux of the problem in designing a power grid is that there are many unknowns until the very end of the design cycle nevertheless decisions about the structure size and layout of the power grid have to be made at very early stages when a large part of the chip design has not even begun unfortunately most commercial tools focus on post-layout verification of the power grid when the entire chip design is complete and detailed information about the parasitics of the power and ground lines and the currents drawn by the transistors are known power grid problems revealed at this stage are usually very difficult or expensive to fix so the preferred methodologies help to design an initial power grid and refine it progressively at various design stages
due to the growth in power consumption and switching speeds of modern high performance microprocessors the didt effects are becoming a growing concern in high speed designs clock gating which is a preferred scheme for power management of high performance designs can cause rapid surges in current demands of macro-blocks and increase didt effects designers rely on the on-chip parasitic capacitances and intentionally added decoupling capacitors to counteract the didt variations in the voltage but it is necessary to model accurately the inductance and capacitance of the package and chip and analyze the grid with such models as otherwise the amount of decoupling to be added might be underestimated or overestimated also it is necessary to maintain the efficiency of the analysis even when including these detailed models
a critical issue in the analysis of power grids is the large size of the network typically millions of nodes in a state-of-the-art microprocessor simulating all the non-linear devices in the chip together with the power grid is computationally infeasible to make the size manageable the simulation is done in two steps first the non-linear devices are simulated assuming perfect supply voltages and the currents drawn by the devices are measured next these devices are modeled as independent time-varying current sources for simulating the power grid and the voltage drops at the transistors are measured since voltage drops are typically less than 10% of the power supply voltage the error incurred by ignoring the interaction between the device currents and the supply voltage is small by doing these two steps the power grid analysis problem reduces to solving a linear network which is still quite large to further reduce the network size we can exploit the hierarchy in the power distribution models
note that the circuit currents are not independent due to signal correlations between blocks this is addressed by deriving the inputs for individual blocks of the chip from the results of logic simulation using a common set of chip-wide input patterns an important issue in power grid analysis is to determine what these input patterns should be for ir-drop analysis patterns that produce maximum instantaneous currents are required whereas for electromigration purposes patterns producing large sustained average currents are of interest
power grid analysis can be classified into input vector dependent methods and vectorless methods the input vector pattern dependent methods employ search techniques to find a set of input patterns which cause the worst drop in the grid a number of methods have been proposed in literature which use genetic algorithms or other search techniques to find vectors or a pattern of vectors that maximize the total current drawn from the supply network input vector-pattern dependent approaches are computationally intensive and are limited to circuit blocks rather than full-chip analysis furthermore these approaches are inherently optimistic underestimating the voltage drop and thus letting some of the supply noise problems go unnoticed the vectorless approaches on the other hand aim to compute an upper bound on the worst-case drop in an efficient manner these approaches have the advantage of being fast and conservative but are sometimes too conservative leading to overdesign
most of the literature on power network analysis deals with the issue of computing the worst voltage drops in the power network electromigration is an equally serious concern but is attacked with almost identical methods instead of the voltage at each node em analysis solves for current in each branch and instead of a voltage limit there is a current limit per wire depending on its layer and width
other ic applications may use only a portions of the flows mentioned here a gate array or field programmable gate array fpga designer for example will only do only the design stages since the detailed usage of these parts is not known when the power supply must be designed likewise a user of fpgas or gate arrays will only use the analysis portion as the design is already fixed
